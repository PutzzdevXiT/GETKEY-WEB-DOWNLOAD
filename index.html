<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PutzzDev | Ambil Key</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:Orbitron;
  height:100vh;
  overflow:hidden;
  background:#020816;
  display:flex;
  justify-content:center;
  align-items:center;
  color:#0ff;
}

/* BACKGROUND */
.bg{position:fixed;inset:0;background:radial-gradient(circle at 20% 30%,rgba(0,255,255,.15),transparent 40%),radial-gradient(circle at 80% 70%,rgba(0,255,255,.12),transparent 40%);animation:pulse 6s infinite alternate;z-index:-3}
@keyframes pulse{to{filter:brightness(1.4)}}
.grid{position:fixed;inset:0;background:linear-gradient(rgba(0,255,255,.08) 1px,transparent 1px),linear-gradient(90deg,rgba(0,255,255,.08) 1px,transparent 1px);background-size:40px 40px;animation:move 12s linear infinite;z-index:-2}
@keyframes move{to{background-position:40px 40px}}
canvas{position:fixed;inset:0;z-index:-1}

/* CARD */
.box{
  background:rgba(5,15,40,.92);
  border-radius:18px;
  padding:28px;
  width:340px;
  text-align:center;
  box-shadow:0 0 25px rgba(0,255,255,.5),inset 0 0 15px rgba(0,255,255,.2);
  animation:float 3s ease-in-out infinite;
}
@keyframes float{50%{transform:translateY(-8px)}}
h2{margin-bottom:15px;letter-spacing:2px}

/* FORM */
select,button,input{
  width:100%;
  padding:12px;
  margin-top:12px;
  border-radius:10px;
  border:none;
  outline:none;
  font-family:Orbitron;
}
select{background:#061a35;color:#0ff}
button{
  background:linear-gradient(135deg,#00ffff,#00aaff);
  color:#000;
  font-weight:bold;
  cursor:pointer;
  transition:.3s;
}
button:hover{box-shadow:0 0 15px #0ff;transform:scale(1.05)}
input{background:#000;color:#0ff;text-align:center;font-weight:bold}
.copy{background:#00ffaa}
.admin-btn{background:#ff0055;color:#fff}
.hidden{display:none}
</style>
</head>
<body>

<div class="bg"></div>
<div class="grid"></div>
<canvas id="particles"></canvas>

<div class="box">
  <h2>ðŸ”‘ AMBIL KEY</h2>

  <!-- USER MODE -->
  <div id="userMode">
    <select id="daySelect">
      <option value="1">1 DAY</option>
      <option value="2">2 DAY</option>
      <option value="3">3 DAY</option>
    </select>

    <button onclick="ambilKey()">AMBIL KEY</button>
  </div>

  <!-- ADMIN MODE -->
  <div id="adminMode" class="hidden">
    <input id="adminKey" placeholder="KEY ADMIN" readonly>
    <button onclick="ambilAdminKey()">AMBIL KEY ADMIN</button>
  </div>

  <button class="admin-btn" onclick="toggleAdmin()">ADMIN MODE</button>
  <button class="copy" onclick="copyKey()">COPY KEY</button>

  <input id="hasilKey" placeholder="KEY AKAN MUNCUL" readonly>
</div>

<audio id="clickSound" src="https://assets.mixkit.co/sfx/preview/mixkit-click-error-1110.mp3"></audio>

<script>
const KEY_URL = "https://raw.githubusercontent.com/PutzzdevXiT/sefelink-by-putzz/main/key.json";
const ADMIN_PASS = "Putzzdev";
const click = document.getElementById("clickSound");

// ===== USER KEY =====
async function ambilKey(){
  click.play();
  const day = document.getElementById("daySelect").value;
  try{
    const res = await fetch(KEY_URL);
    const data = await res.json();
    const item = data.duration_keys.find(k => k.days == day);
    if(!item) return alert("Key tidak tersedia");
    document.getElementById("hasilKey").value = item.key;
  }catch{alert("Gagal ambil data")}
}

// ===== ADMIN MODE =====
function toggleAdmin(){
  click.play();
  const pass = prompt("Masukkan password admin:");
  if(pass !== ADMIN_PASS) return alert("Password salah!");
  document.getElementById("userMode").classList.add("hidden");
  document.getElementById("adminMode").classList.remove("hidden");
}

async function ambilAdminKey(){
  click.play();
  try{
    const res = await fetch(KEY_URL);
    const data = await res.json();
    document.getElementById("hasilKey").value = data.permanent_keys[0];
  }catch{alert("Gagal ambil key admin")}
}

// ===== COPY =====
function copyKey(){
  click.play();
  const i = document.getElementById("hasilKey");
  if(!i.value) return;
  i.select();
  document.execCommand("copy");
  alert("Key disalin!");
}

/* PARTICLES */
const c=document.getElementById("particles"),ctx=c.getContext("2d");
let w,h,p=[];
function rs(){w=c.width=innerWidth;h=c.height=innerHeight}
onresize=rs;rs();
for(let i=0;i<60;i++)p.push({x:Math.random()*w,y:Math.random()*h,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5});
(function a(){
  ctx.clearRect(0,0,w,h);
  p.forEach(o=>{
    o.x+=o.vx;o.y+=o.vy;
    if(o.x<0||o.x>w)o.vx*=-1;
    if(o.y<0||o.y>h)o.vy*=-1;
    ctx.fillStyle="#0ff";
    ctx.fillRect(o.x,o.y,2,2);
  });
  requestAnimationFrame(a);
})();
</script>

</body>
</html>